!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom"),require("prop-types"),require("react-form-with-constraints")):"function"==typeof define&&define.amd?define(["exports","react","react-dom","prop-types","react-form-with-constraints"],t):t((e=e||self).ReactFormWithConstraintsTools={},e.React,e.ReactDOM,e.PropTypes,e.ReactFormWithConstraints)}(this,function(e,o,c,n,d){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reRender=function(){e.forceUpdate()},e}return i(e,t),e.prototype.componentWillMount=function(){var e=this.context.form;e.fieldsStore.addListener(d.FieldEvent.Added,this.reRender),e.fieldsStore.addListener(d.FieldEvent.Removed,this.reRender),e.addFieldDidValidateEventListener(this.reRender),e.addFieldDidResetEventListener(this.reRender)},e.prototype.componentWillUnmount=function(){var e=this.context.form;e.fieldsStore.removeListener(d.FieldEvent.Added,this.reRender),e.fieldsStore.removeListener(d.FieldEvent.Removed,this.reRender),e.removeFieldDidValidateEventListener(this.reRender),e.removeFieldDidResetEventListener(this.reRender)},e.prototype.render=function(){var e=s(this.context.form.fieldsStore.fields,2);return e=e.replace(/{\s+key: (.*),\s+type: (.*),\s+show: (.*)\s+}/g,"{ key: $1, type: $2, show: $3 }"),o.createElement("pre",{style:{fontSize:"small"}},"Fields = ",e)},e.contextTypes={form:n.instanceOf(d.FormWithConstraints).isRequired},e}(o.Component),s=function(e,t){var n=JSON.stringify(e,function(e,t){return void 0===t?"__undefined__":t},t);return n=(n=n.replace(/"__undefined__"/g,"undefined")).replace(/"([^"]+)":/g,"$1:")},l=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return i(e,r),e.prototype.render=function(){var e=this.props,t=e.for,n="";return t&&(n+='for="'+t+'" '),n+='stop="'+e.stop+'"',o.createElement(o.Fragment,null,o.createElement("li",null,'key="',this.key,'" ',n),o.createElement("ul",null,r.prototype.render.call(this)))},e}(d.FieldFeedbacks),a=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return i(e,r),e.prototype.getTextDecoration=function(){var e="";switch(this.state.validation.show){case!1:e="line-through";break;case void 0:e="line-through dotted"}return e},e.prototype.render=function(){var e=this.state.validation,t=e.key,n=e.type;return o.createElement("li",null,o.createElement("span",{style:{textDecoration:this.getTextDecoration()}},'key="',t,'" type="',n,'"')," ",r.prototype.render.call(this))},e.prototype.componentDidUpdate=function(){var t,e,n=c.findDOMNode(this),r=n.querySelectorAll("[data-feedback]");try{for(var o=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(r),i=o.next();!i.done;i=o.next()){i.value.style.display="inline"}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}var s=n.closest("li.async");null!==s&&(s.querySelector("span[style]").style.textDecoration=this.getTextDecoration());if(this.state.validation.type===d.FieldFeedbackType.WhenValid){var l=n.querySelector("span[style]"),a=n.querySelector("span."+this.props.classes.valid);l.style.textDecoration=null!==a?"":"line-through"}},e}(d.FieldFeedback),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getTextDecoration=function(){return"line-through dotted"},t.prototype.componentWillUpdate=function(){c.findDOMNode(this).querySelector("span[style]").style.textDecoration=this.getTextDecoration()},t.prototype.render=function(){return o.createElement("li",{className:"async"},o.createElement("span",{style:{textDecoration:this.getTextDecoration()}},"Async"),o.createElement("ul",null,e.prototype.render.call(this)))},t}(d.Async);e.FormWithConstraints=d.FormWithConstraints,e.DisplayFields=t,e.FieldFeedbacks=l,e.FieldFeedback=a,e.Async=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=react-form-with-constraints-tools.production.min.js.map
